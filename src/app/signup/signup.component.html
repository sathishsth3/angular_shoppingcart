
<div class="container">
    <div class="card">
        @if (signupUser) {
        <mat-card appearance="outlined">
            <mat-card-header>
              <mat-card-title>Signup As Customer</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <form [formGroup]="signupForm" (ngSubmit)="signupCustomer()" class="signup-form">
                    <mat-form-field>
                        <input matInput type="text" placeholder="Enter username" formControlName="userName">
                        @if (signupForm.get('userName')?.invalid && signupForm.get('userName')?.touched) {
                            <mat-error>Please enter valid username</mat-error>
                          }
                    </mat-form-field>
                    <mat-form-field class="example-full-width">
                        <input type="email" matInput placeholder="Enter email" formControlName="email">
                        @if (signupForm.get('email')?.invalid && signupForm.get('email')?.touched) {
                          <mat-error>Please enter valid email</mat-error>
                        }
                    </mat-form-field>
                    <mat-form-field>
                        <input matInput [type]="passwordVisibility ? 'password' : 'text'" placeholder="Enter password"
                        formControlName="password"/>
                          <mat-icon matSuffix (click)="togglePassword()">{{passwordVisibility ? 'visibility_off' : 'visibility'}}</mat-icon>
                        @if (signupForm.get('password')?.invalid && signupForm.get('password')?.touched) {
                            <mat-error>Please enter valid password</mat-error>
                        }
                        </mat-form-field>
                    <mat-form-field>
                        <input matInput [type]="confirmPasswordVisibility ? 'password' : 'text'" placeholder="Enter confirm password"
                        formControlName="confirmPassword"/>
                          <mat-icon matSuffix (click)="toggleConfirmPassword()">{{confirmPasswordVisibility ? 'visibility_off' : 'visibility'}}</mat-icon>
                        @if (signupForm.get('confirmPassword')?.invalid && signupForm.get('confirmPassword')?.touched) {
                            <mat-error>Please enter valid password</mat-error>
                        }
                    </mat-form-field>
                    <mat-card-actions>
                      <button type="submit" mat-flat-button  [disabled]="!signupForm.valid">Signup</button>
                      <p (click)="toggleSignupUser()">Signup as admin</p>
                    </mat-card-actions>
                </form>
              </mat-card-content>
        </mat-card>
      }

    @if (signupUser==false) {
        <mat-card appearance="outlined">
            <mat-card-header>
              <mat-card-title>Signup As Admin</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <form action="#" [formGroup]="signupForm" (ngSubmit)="signupAdmin()">
                    <mat-form-field>
                        <input type="text" matInput placeholder="Enter username" formControlName="userName">
                        @if (signupForm.get('userName')?.invalid && signupForm.get('userName')?.touched) {
                            <mat-error>Please enter valid username</mat-error>
                          }
                    </mat-form-field>
                    <mat-form-field class="example-full-width">
                        <input type="email" matInput formControlName="signupForm.email" placeholder="Enter email" 
                        formControlName="email">
                        @if (signupForm.get('email')?.invalid && signupForm.get('email')?.touched) {
                          <mat-error>Please enter valid email</mat-error>
                        }
                    </mat-form-field>
                    <mat-form-field>
                        <input matInput [type]="passwordVisibility ? 'password' : 'text'" placeholder="Enter password"
                        formControlName="password"/>
                          <mat-icon matSuffix (click)="togglePassword()">{{passwordVisibility ? 'visibility_off' : 'visibility'}}</mat-icon>
                        @if (signupForm.get('password')?.invalid && signupForm.get('password')?.touched) {
                            <mat-error>Please enter valid password</mat-error>
                        }
                        </mat-form-field>
                    <mat-form-field>
                        <input matInput [type]="confirmPasswordVisibility ? 'password' : 'text'" placeholder="Enter confirm password"
                        formControlName="confirmPassword"/>
                          <mat-icon matSuffix (click)="toggleConfirmPassword()">{{confirmPasswordVisibility ? 'visibility_off' : 'visibility'}}</mat-icon>
                        @if (signupForm.get('confirmPassword')?.invalid && signupForm.get('confirmPassword')?.touched) {
                            <mat-error>Please enter valid password</mat-error>
                        }
                    </mat-form-field>
                    <mat-card-actions>
                      <button type="submit" mat-flat-button  [disabled]="!signupForm.valid">Signup</button>
                      <p (click)="toggleSignupUser()">Signup as customer</p>
                    </mat-card-actions>
                </form>
            </mat-card-content>
        </mat-card>
      }
    </div>
</div>
